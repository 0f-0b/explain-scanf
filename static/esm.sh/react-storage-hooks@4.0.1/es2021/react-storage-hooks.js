import __react$ from "../../react@17.0.2/es2021/react.js";var T=Object.create;var _=Object.defineProperty;var j=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var M=e=>_(e,"__esModule",{value:!0});var m=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,t)=>(typeof require!="undefined"?require:r)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var l=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var N=(e,r,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of b(r))!C.call(e,u)&&u!=="default"&&_(e,u,{get:()=>r[u],enumerable:!(t=j(r,u))||t.enumerable});return e},O=e=>N(M(_(e!=null?T(y(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var g=l(d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});var s=__react$;function h(e){return e!==null?JSON.parse(e):null}function q(e,r){try{var t=e.getItem(r);return h(t)}catch{return null}}function W(e){return JSON.stringify(e)}function F(e,r,t){try{return t!==null?e.setItem(r,W(t)):e.removeItem(r),Promise.resolve()}catch(u){return Promise.reject(u)}}function x(e,r,t){var u=s.useRef(t);return s.useMemo(function(){var n;return(n=q(e,r))!==null&&n!==void 0?n:u.current},[r,e])}d.useInitialState=x;function J(e,r,t){var u=s.useState(void 0),n=u[0],o=u[1];return s.useEffect(function(){if(F(e,r,t).catch(function(a){(!a||!a.message||a.message!==(n==null?void 0:n.message))&&o(a)}),n)return function(){o(void 0)}},[t,r,n,e]),n}d.useStorageWriter=J;function V(e,r,t,u){var n=s.useRef(t),o=s.useRef(u),a=s.useRef(!0);s.useEffect(function(){var i;if(a.current){a.current=!1;return}o.current((i=q(e,r))!==null&&i!==void 0?i:n.current)},[r,e]),s.useEffect(function(){function i(c){var f;c.key===r&&o.current((f=h(c.newValue))!==null&&f!==void 0?f:n.current)}if(typeof window!="undefined")return window.addEventListener("storage",i),function(){window.removeEventListener("storage",i)}},[r])}d.useStorageListener=V});var A=l(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});var z=__react$,p=g();function B(e,r,t){t===void 0&&(t=null);var u=z.useState(p.useInitialState(e,r,t)),n=u[0],o=u[1];p.useStorageListener(e,r,t,o);var a=p.useStorageWriter(e,r,n);return[n,o,a]}R.default=B});var P=l(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var D=__react$,E=g(),L="__FORCE_STATE_INTERNAL_API__";function G(e){return typeof e=="object"&&e!==null&&"type"in e&&e.type===L}function H(e){return function(r,t){return G(t)?t.payload:e(r,t)}}function K(e,r,t,u,n){n===void 0&&(n=function(S){return S});var o=n(u),a=D.useReducer(H(t),E.useInitialState(e,r,o)),i=a[0],c=a[1];E.useStorageListener(e,r,o,function(S){c({type:L,payload:S})});var f=E.useStorageWriter(e,r,i);return[i,c,f]}w.default=K});var I=l(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});var Q=A();v.useStorageState=Q.default;var U=P();v.useStorageReducer=U.default});var X=O(I()),Y=O(I()),{useStorageState:te,useStorageReducer:ue}=X;var export_default=Y.default;export{export_default as default,ue as useStorageReducer,te as useStorageState};
